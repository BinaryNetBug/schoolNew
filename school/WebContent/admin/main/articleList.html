<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript" src="../../js/jquery-3.3.1.min.js"></script>
</head>
<body>
	<table border="1">
		
	</table>
</body>
<script type="text/javascript">
function articleList(){
	$.ajax({
		url:"selectArticle.action",
		type:"post",
		success:function(data) {
			var articleList = data.articleList;
			var str = "<tr><th>文章标题</th><th>文章作者</th><th>发布时间</th><th>文章类型</th><th>文章缩略图</th><th>操作</th></tr>";
			for(var i = 0;i < articleList.length;i++){
				str+="<tr><td>"+articleList[i].title+"</td><td>"+articleList[i].author+"</td><td>"+articleList[i].time+"</td><td>"+articleList[i].type.typeName+"</td><td><img src='"+articleList[i].image+"'></td><td><a href='javascript:delet("+articleList[i].articleId+")'>删除</a> <a href='updateArticle.jsp?articleId="+articleList[i].articleId+"'>修改</a></td></tr>";
			}
			$("table").html(str);
		}
	});
}
	
articleList();
	function delet(id){
		$.get("deleteArticle.action",{"article.articleId":id},function(data){
			if(data.flag){
				alert("删除成功");
				articleList();
			}else{
				alert("删除失败")
			}
		});
	}
</script>
</html>